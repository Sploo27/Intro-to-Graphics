/*
Author: Mitko Ivanov
Class: GPR-200-01/02/03: Introduction to Modern Graphics Programming
Assignment: Lab 8: Pipelines
Date Assigned: 11/6/2020
Due Date: 11/20/2020
Description: Use SHADERed as well as material given to learn about shader pipelines
Certification of Authenticity:
I certify that this is entirely my own work, except where I have given
fully-documented references to the work of others. I understand the
definition and consequences of plagiarism and acknowledge that the assessor
of this assignment may, for the purpose of assessing this assignment:
- Reproduce this assignment and provide a copy to another member of
academic staff; and/or
- Communicate a copy of this assignment to a plagiarism checking
service (which may then retain a copy of this assignment on its
database for the purpose of future plagiarism checking)

Using influence from:

- Given code from the Lab 8: Shader Pipelines assignment page in canvas


*/

#version 450

#ifdef GL_ES
precision highp float;
#endif //GL_ES

uniform sampler2D uTex;

in vec2 vTexcoord;

layout (location = 0) out vec4 rtFragColor;

void main()
{
	vec2 uv = vTexcoord;
	vec4 col = texture(uTex, uv);
	
	//bright pass calculations
	
	//float lum = dot(col, vec4(0.299, 0.587, 0.144, 0.0)); //calculate luminance
	float lum = dot(col, vec4(0.375, 0.5, 0.125, 0.0));
	
	col = col * 1.3 * smoothstep(0.2, 1.0, lum);
	
	rtFragColor = col;
}